<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <title>菜鸟教程(runoob.com)</title>

    <script type="text/javascript">

        var ws = new WebSocket("ws://localhost:8123/oml");

        ws.onopen = function () {
            // Web Socket 已连接上，使用 send() 方法发送数据
            ws.send("建立连接");
        };

        ws.onmessage = function (evt) {
            var received_msg = evt.data;
            display(received_msg)
        };

        ws.onclose = function () {
            // 关闭 websocket
            alert("连接已关闭...");
        };
        function send_spout() {
            ws.send("start");
        }
        function continue_spout() {
            ws.send("continue");
        }
        function stop_spout() {
            ws.send("stop");
        }
        function display(message) {
            document.getElementById("demo").innerHTML = message;
        }
    </script>

</head>

<body>

    <div id="sse">
        <button onclick="send_spout()">开始</button>
        <button onclick="continue_spout()">继续</button>
        <button onclick="stop_spout()">停止</button>
        <p id="demo">这是一个段落</p>
    </div>

</body>

</html>